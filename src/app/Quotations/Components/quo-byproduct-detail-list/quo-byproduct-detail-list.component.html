<div class="relative w-full">
  <button class="close-icon" mat-icon-button color="warn" style="position: absolute; right: 10px; top: 5px;"
    (click)="closeForm()" title="Close">
    <mat-icon>close</mat-icon>
  </button>
  <h1
    class="text-3xl font-bold mb-6 text-blue-700 bg-blue-200 inline-flex items-center justify-between px-4 py-2 w-full">
    <span>Quotation By Product List - {{p_quono}}</span>
    <!--<button class="bg-green-700 hover:bg-yellow-700 text-white font-bold py-1 px-2 rounded text-sm">
            Sent Quotation
        </button>-->
  </h1>
</div>
<div *ngFor="let item of quoList" class="container mx-auto p-4">
  <div
    class="bg-white rounded-lg shadow-md overflow-hidden flex flex-col md:flex-row transition-transform transform hover:scale-105">
    <div class="md:w-3/6 p-4 space-y-4">
      <div class="w-full h-64 relative border-4 border-gray-200 rounded-lg">
        <img [src]="item.quotationProductImage1" alt="Product Image" class="w-full h-full object-contain rounded-lg"
          title="Klik untuk melihat lebih besar Gambar 1" (click)="openModal(item.quotationProductImage1)">
      </div>
      <div class="w-full flex flex-wrap -mx-2 mt-2">
        <img [src]="item.quotationProductImage2" alt="Product Image" *ngIf="item.quotationProductImage2"
          class="w-1/4 h-24 px-2 mb-2 rounded-lg object-cover" title="Klik untuk melihat lebih besar Gambar 2"
          (click)="openModal(item.quotationProductImage2)">
        <img [src]="item.quotationProductImage3" alt="Product Image" *ngIf="item.quotationProductImage3"
          class="w-1/4 h-24 px-2 mb-2 rounded-lg object-cover" title="Klik untuk melihat lebih besar Gambar 3"
          (click)="openModal(item.quotationProductImage3)">
        <img [src]="item.quotationProductImage4" alt="Product Image" *ngIf="item.quotationProductImage4"
          class="w-1/4 h-24 px-2 mb-2 rounded-lg object-cover" title="Klik untuk melihat lebih besar Gambar 4"
          (click)="openModal(item.quotationProductImage4)">
      </div>

      <!-- Modal untuk gambar -->
      <div *ngIf="modalImage" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-8"
        (click)="modalImage = null">
        <img [src]="modalImage" class="w-[95%] h-auto max-w-3xl max-h-[85vh] rounded-lg shadow-lg" />
      </div>


    </div>
    <div class="md:w-3/5 p-4 space-y-4">
      <div>
        <h2 class="text-2xl font-bold text-gray-900 mb-2">{{item.ctqdProductName}}</h2>
        <div class="flex items-center text-gray-600 text-sm mb-4">
          <span>{{item.ctqdProducttypeName}}</span>
          <span class="ml-2">Rp. {{item.ctqdProducttypePrice| number}}</span>
        </div>
        <p class="text-gray-700 mb-4">{{item.ctqdProducttypeDesc}}</p>
      </div>
      <div class="flex justify-end items-start mt-[-10px] mr-0 w-full">
        <div class="flex justify-end w-full space-x-4">
          <button
            class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out shadow-md"
            type="button" (click)="RejectQuo()">
            Reject
          </button>

          <button
            class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition-colors duration-300"
            (click)="CallProcQuoToBlast()">
            Blast To Supplier
          </button>
        </div>
      </div>


      <div class="mt-4 border-t border-gray-200 pt-4">
        <h3 class="text-lg font-medium text-gray-900 mb-2">Specifications</h3>
        <ul class="text-gray-700 list-disc list-inside space-y-2">
          <li>Alias: {{item.ctqdProductTypeAlias}}</li>
          <li>Size: {{item.ctqdProductTypeSize}}</li>
          <li>Qty Purchase: {{item.ctqdProducttypeQty}}</li>
          <li>Min. Purchase: {{item.ctqdProducttypeMinQty}}</li>
        </ul>
      </div>
    </div>
  </div>
</div>